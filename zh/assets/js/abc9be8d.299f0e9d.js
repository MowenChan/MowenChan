(self.webpackChunkbakupub=self.webpackChunkbakupub||[]).push([[5398],{3905:function(e,t,r){"use strict";r.d(t,{Zo:function(){return u},kt:function(){return f}});var n=r(7294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var l=n.createContext({}),p=function(e){var t=n.useContext(l),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},u=function(e){var t=p(e.components);return n.createElement(l.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},s=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,o=e.originalType,l=e.parentName,u=c(e,["components","mdxType","originalType","parentName"]),s=p(r),f=a,k=s["".concat(l,".").concat(f)]||s[f]||d[f]||o;return r?n.createElement(k,i(i({ref:t},u),{},{components:r})):n.createElement(k,i({ref:t},u))}));function f(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=r.length,i=new Array(o);i[0]=s;var c={};for(var l in t)hasOwnProperty.call(t,l)&&(c[l]=t[l]);c.originalType=e,c.mdxType="string"==typeof e?e:a,i[1]=c;for(var p=2;p<o;p++)i[p]=r[p];return n.createElement.apply(null,i)}return n.createElement.apply(null,r)}s.displayName="MDXCreateElement"},9529:function(e,t,r){"use strict";r.r(t),r.d(t,{frontMatter:function(){return i},metadata:function(){return c},toc:function(){return l},default:function(){return u}});var n=r(2122),a=r(9756),o=(r(7294),r(3905)),i={},c={unversionedId:"se/development/midware/apache/kafka",id:"se/development/midware/apache/kafka",isDocsHomePage:!1,title:"Kafka",description:"kafka cluster",source:"@site/i18n/zh/docusaurus-plugin-content-docs/current/se/development/midware/apache/kafka.md",sourceDirName:"se/development/midware/apache",slug:"/se/development/midware/apache/kafka",permalink:"/zh/docs/se/development/midware/apache/kafka",version:"current",frontMatter:{},sidebar:"se_development",previous:{title:"Middleware",permalink:"/zh/docs/se/development/midware/apache/index"},next:{title:"Nginx",permalink:"/zh/docs/se/development/midware/nginx"}},l=[{value:"kafka cluster",id:"kafka-cluster",children:[]},{value:"kafka stroage",id:"kafka-stroage",children:[]},{value:"partition",id:"partition",children:[{value:"partition &amp; eventkey",id:"partition--eventkey",children:[]},{value:"ISR(In sync Replicas)",id:"isrin-sync-replicas",children:[]}]},{value:"producer",id:"producer",children:[{value:"ack",id:"ack",children:[]}]}],p={toc:l};function u(e){var t=e.components,r=(0,a.Z)(e,["components"]);return(0,o.kt)("wrapper",(0,n.Z)({},p,r,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h2",{id:"kafka-cluster"},"kafka cluster"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"[zookeeper]\n  |`--kafka\n  |`--kafka\n   `--kafka\n")),(0,o.kt)("h2",{id:"kafka-stroage"},"kafka stroage"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"Broker\n`-topic\n  `-partition\n    `-segment\n      `-offset\n        `-message\n          `-data key\n          `-data value\n          `-data timestamp\n")),(0,o.kt)("h2",{id:"partition"},"partition"),(0,o.kt)("h3",{id:"partition--eventkey"},"partition & eventkey"),(0,o.kt)("p",null,"Events with the same key are written to the same partition."),(0,o.kt)("h3",{id:"isrin-sync-replicas"},"ISR(In sync Replicas)"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"Broker.0\n`-topic\n  `-partition.0.leader\n    `-partition.n.follower\nBroker.x\n`-topic\n  `-partition.n.leader\n  `-partition.0.follower\n")),(0,o.kt)("h2",{id:"producer"},"producer"),(0,o.kt)("h3",{id:"ack"},"ack"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"+========+-----1.message------\x3e+======+\n|producer|                     |broker|\n+========+<-2.acknowledgement--+======+\n\n# ack=0\nthe producer will not wait for any acknowledgment from the server at all. The record will be immediately added to the socket buffer and considered sent. No guarantee can be made that the server has received the record in this case, and the retries configuration will not take effect.\n# ack=1\nthe leader will write the record to its local log but will respond without awaiting full acknowledgement from all followers.\n# ack=all\nthe leader will wait for the full set of in-sync replicas to acknowledge the record. \n")))}u.isMDXComponent=!0}}]);